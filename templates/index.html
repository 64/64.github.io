<!DOCTYPE html>
<html lang="en">
    <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta http-equiv="content-type" content="text/html; charset=utf-8">

      <!-- Enable responsiveness on mobile devices-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

      <title>{% block title %}{{ config.title }}{% endblock title %}</title>

      <!-- css -->
      <link rel="stylesheet" href="/reset.css">
      <link rel="stylesheet" href="/feather.css">

      <!-- fonts -->
      <link href="https://fonts.googleapis.com/css?family=Merriweather:300,400|Montserrat:400,700" rel="stylesheet">

      <!-- js -->
      <script src='/js/images.js'></script>
      <script src='/js/main.js'></script>
      <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
      <script type="text/x-mathjax-config">
        MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
      </script>

      {% if config.extra.feather_analytics %}
        {{ config.extra.feather_analytics | safe }}
      {% endif %}

      {% if config.generate_rss %}
        <link rel="alternate" type="application/rss+xml" title="RSS" href="{{ get_url(path="rss.xml", trailing_slash=false) }}">
      {% endif %}

      {% block extra_head %}
      {% endblock extra_head %}
    </head>

    <body>

    <a href="/">
      <div class='header-image' style='background-image: url({% if config.extra.feather_header_image %}{{ config.extra.feather_header_image }}{% else %}/theme_images/default.gif{% endif %});'></div>
    </a>

    {% block content %}
    <div class="container">
      <div class="posts">
        {% for page in section.pages %}
            <section>
              <a class='header-link' href="{{ page.permalink }}">
                <h3 class="title"> {{ page.title }} </h3>
              </a>
              <p> 
                {{ page.content | safe | striptags | truncate }} 
              </p>

              <!-- TODO: modularize this so we don't repeat ourselves -->
              <div class='info'>
                <span>{{ page.reading_time }} minute read</span>
                {% if page.date %}
                  <span class='divider'/>
                  <span>{{ page.date | date(format="%d %B %Y") }}</span>
                {% endif %}
                {% for category in page.taxonomies.categories %}
                  <span class='divider'/>
                  <span><a href="/categories/{{category | slugify }}">{{ category }}</a></span>
                {% endfor %}
              </div>
            </section>
          <hr/>
        {% endfor %}
      </div>
    </div>
    {% endblock content %}

    <footer>
      Feather theme by <a href="https://github.com/piedoom/feather">doomy</a>&nbsp;&nbsp;-&nbsp;&nbsp; Built with <a href="https://www.getzola.org/">Zola</a>
      &nbsp;&nbsp;-&nbsp;&nbsp; Header photo by <a href="https://reddit.com/u/Danielstagner">u/Danielstagner</a>
      {% if config.extra.feather_donate_link %}&nbsp;&nbsp;-&nbsp;&nbsp; <a href={{config.extra.feather_donate_link}}>Donate</a>
      {% endif %}
    </footer>

    </body>

</html>
